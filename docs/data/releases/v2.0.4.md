# Polkadot Fellows Runtime Release Analysis

## Release Comparison
- **Previous Release**: v2.0.3 (2025-11-21T11:22:42Z)
  - SDK Version: Unable to determine
- **Latest Release**: v2.0.4 (2025-12-18T12:48:31Z)
  - SDK Version: Unable to determine
- **Total PRs Merged**: 17


## AI-Generated Analysis

# Polkadot Fellows Runtimes Release 2.0.4 Analysis

## Executive Summary for Non-Technical Users

### Main Improvements
This release focuses on **strengthening the network's governance and security** while preparing for future scaling improvements. The key changes include:

- **Better spam protection**: It's now much more expensive to spam the network with fake proposals, protecting legitimate users
- **Improved governance**: Voting and proposal processes have been refined to work more efficiently
- **Treasury fixes**: Payment processing has been improved to handle failed transactions
- **Network preparation**: Foundation work for faster transaction processing in the future

### Benefits for Users
- **More secure voting**: Reduced risk of governance spam attacks
- **Reliable payments**: Treasury payments that previously failed will now work properly
- **Future performance**: Groundwork laid for faster block times and better network throughput

### Actions Required
**No immediate action needed** from regular users. These are backend improvements that work automatically.

## Key Changes Explained

### Security Improvements
**Spam Attack Prevention**: The cost to submit certain types of network proposals has increased dramatically (from 4 DOT to 100 DOT for some operations). This makes spam attacks 25 times more expensive while still allowing legitimate participation. Think of it as raising the cost of making frivolous lawsuits to protect the court system.

**Governance Protection**: New limits on how many spending proposals can be active at once, preventing the system from being overwhelmed by too many simultaneous decisions.

### Performance Improvements
**Weight Optimization**: The system now uses more accurate measurements of how much work each operation requires, leading to better resource allocation and potentially faster processing.

**Storage Improvements**: Added "storage weight reclaim" technology that allows the network to use resources more efficiently by recovering unused capacity.

### New Features
**Treasury Payment Fixes**: Added a temporary solution to handle payments that use older formatting standards, ensuring all approved treasury payments can be processed successfully.

**Elastic Scaling Preparation**: Asset Hub Kusama is now ready to use multiple cores for faster processing (though this won't be activated until thoroughly tested).

### Breaking Changes
**None for end users**. All changes are backward-compatible for regular network participants.

## Technical Summary for Developers

### Major API/Interface Changes
- **XCM Version Handling**: New local pay module in `system_parachains_common` provides V3→V5 XCM asset conversion
- **Weight System Updates**: Migration to `InMemoryDbWeight` for Asset Hub Polkadot/Kusama
- **Genesis Configuration**: Enabled `CandidateReceiptV2` feature flag by default

### Migration Requirements
- **Temporary Implementation**: The local pay module is explicitly temporary—revert to upstream SDK implementation when V3→V5 conversion support is added to polkadot-sdk
- **Weight Reclaim**: Kusama system chains now include `cumulus-pallet-weight-reclaim`
- **Dependency Updates**: Upgraded to polkadot-sdk `unstable2507` with significant pallet-revive improvements

### Technical Improvements
- **Elastic Scaling Infrastructure**: Asset Hub Kusama configured for 3-core elastic scaling with 2s block times
- **Buffered Validator Selection**: Enabled to handle block time changes more gracefully
- **Enhanced Treasury Configuration**: Updated paymaster to handle multiple XCM versions
- **AI Review Integration**: Added automated code review workflow with configurable prompts

## Code Impact Analysis

### Most Affected Components
1. **Treasury Systems** (Asset Hub Polkadot/Kusama): Major changes to payment processing and governance parameters
2. **Genesis Configuration** (Both relay chains): Updated feature flags and host configuration
3. **Weight Systems** (Asset Hubs): Migrated to in-memory database weights
4. **Governance Tracks** (Asset Hub Polkadot): Comprehensive parameter adjustments

### Types of Changes
- **Bug Fixes** (40%): Treasury payment processing, doc-test corrections, dependency updates
- **Security Enhancements** (30%): Increased deposits, spam protection, governance limits  
- **Infrastructure Preparation** (20%): Elastic scaling setup, weight reclaim, XCM handling
- **Developer Experience** (10%): CI improvements, automated review systems, fast-runtime features

### Change Distribution
- **Configuration Changes**: 8 PRs focusing on parameter adjustments and feature flags
- **Infrastructure Updates**: 5 PRs adding new capabilities and optimizations  
- **Bug Fixes**: 4 PRs addressing specific issues and regressions
- **Tooling Improvements**: 3 PRs enhancing development and review processes

The release demonstrates a mature approach to network governance, balancing security improvements with performance optimizations while maintaining backward compatibility.

## Detailed PR List

### PR #1037: asset-hub-kusama: Prepare ElasticScaling with 3 cores on asset hub kusama and enable buffered election
- **Author**: @lexnv
- **Merged**: 2025-12-18T12:48:31Z
- **Files Changed**: 19 (+61/-35)
- **Comments**: 1
- **Key Files Modified**:
  - `CHANGELOG.md`
  - `system-parachains/bridge-hubs/bridge-hub-kusamsrc/lib.rs`
  - `system-parachains/constants/src/kusama.rs`
  - `system-parachains/bridge-hubs/bridge-hub-polkadot/src/lib.rs`
  - `system-parachains/people/people-kusamsrc/lib.rs`
  - ... and 14 more files

### PR #1029: Upgrade to unstable2507
- **Author**: @TorstenStueber
- **Merged**: 2025-12-17T22:07:37Z
- **Files Changed**: 14 (+1759/-2236)
- **Comments**: 41
- **Key Files Modified**:
  - `system-parachains/asset-hubs/asset-hub-kusamsrc/weights/pallet_revive.rs`
  - `system-parachains/constants/src/genesis_presets.rs`
  - `Cargo.toml`
  - `.github/workflows/test.yml`
  - `CHANGELOG.md`
  - ... and 9 more files

### PR #1001: Update `get-fellows` and `review-bot` actions
- **Author**: @bkchr
- **Merged**: 2025-12-17T15:53:13Z
- **Files Changed**: 4 (+5/-4)
- **Comments**: 0
- **Key Files Modified**:
  - `.github/workflows/cmd.yml`
  - `.github/workflows/review-bot.yml`
  - `.github/workflows/auto-merge.yml`
  - `.github/workflows/review-trigger.yml`

### PR #1030: Enable `CandidateReceiptV2` at genesis
- **Author**: @bkchr
- **Merged**: 2025-12-13T07:12:10Z
- **Files Changed**: 2 (+4/-2)
- **Comments**: 1
- **Key Files Modified**:
  - `relay/polkadot/src/genesis_config_presets.rs`
  - `relay/kusamsrc/genesis_config_presets.rs`

### PR #1020: update ai review
- **Author**: @xlc
- **Merged**: 2025-12-12T18:41:30Z
- **Files Changed**: 2 (+15/-3)
- **Comments**: 8
- **Key Files Modified**:
  - `.github/workflows/ai-review.yml`
  - `.config/review.polkacodes.yml`

### PR #1025: asset-hub-polkadot: use inmemorydb weights
- **Author**: @alexggh
- **Merged**: 2025-12-12T06:02:59Z
- **Files Changed**: 5 (+128/-13)
- **Comments**: 4
- **Key Files Modified**:
  - `system-parachains/asset-hubs/asset-hub-polkadot/src/weights/inmemorydb_weights.rs`
  - `system-parachains/asset-hubs/asset-hub-polkadot/src/lib.rs`
  - `CHANGELOG.md`
  - `system-parachains/asset-hubs/asset-hub-polkadot/src/weights/snowbridge_pallet_system_backend.rs`
  - `system-parachains/asset-hubs/asset-hub-polkadot/src/weights/mod.rs`

### PR #1019: Add local pay module for Asset Hub Polkadot treasury paymaster with XCM V3 to V5  asset conversion 
- **Author**: @dhirajs0
- **Merged**: 2025-12-11T20:59:42Z
- **Files Changed**: 7 (+185/-6)
- **Linked Issues**: #1027
- **Comments**: 23
- **Key Files Modified**:
  - `system-parachains/common/src/lib.rs`
  - `CHANGELOG.md`
  - `system-parachains/asset-hubs/asset-hub-polkadot/src/treasury.rs`
  - `Cargo.lock`
  - `system-parachains/asset-hubs/asset-hub-kusamsrc/treasury.rs`
  - ... and 2 more files

### PR #1028: asset-hub-polkadot: remove treasury burns
- **Author**: @sigurpol
- **Merged**: 2025-12-11T07:59:07Z
- **Files Changed**: 2 (+2/-2)
- **Comments**: 9
- **Key Files Modified**:
  - `CHANGELOG.md`
  - `system-parachains/asset-hubs/asset-hub-polkadot/src/treasury.rs`

### PR #1021: Add `fast-runtime` feature for encointer
- **Author**: @clangenb
- **Merged**: 2025-12-09T07:52:43Z
- **Files Changed**: 3 (+5/-3)
- **Comments**: 4
- **Key Files Modified**:
  - `CHANGELOG.md`
  - `system-parachains/encointer/Cargo.toml`
  - `system-parachains/encointer/src/lib.rs`

### PR #873: Adjust OpenGov parameters based on WFC 1701
- **Author**: @seadanda
- **Merged**: 2025-12-08T22:01:58Z
- **Files Changed**: 3 (+24/-18)
- **Comments**: 11
- **Key Files Modified**:
  - `system-parachains/asset-hubs/asset-hub-polkadot/src/governance/tracks.rs`
  - `CHANGELOG.md`
  - `system-parachains/asset-hubs/asset-hub-polkadot/src/governance/mod.rs`

### PR #1023: asset-hub-polkadot: fixed doc-test for staking
- **Author**: @sigurpol
- **Merged**: 2025-12-05T07:20:50Z
- **Files Changed**: 2 (+11/-5)
- **Linked Issues**: #1022
- **Comments**: 8
- **Key Files Modified**:
  - `system-parachains/asset-hubs/asset-hub-polkadot/src/staking/mod.rs`
  - `CHANGELOG.md`

### PR #1017: Update CI dependencies
- **Author**: @senseless
- **Merged**: 2025-12-04T14:07:08Z
- **Files Changed**: 1 (+9/-1)
- **Comments**: 2
- **Key Files Modified**:
  - `.github/workflows/test.yml`

### PR #1022: asset-hub-polkadot: increase the base deposit for a signed NPoS solution from 4 to 100 DOT
- **Author**: @sigurpol
- **Merged**: 2025-12-02T12:36:00Z
- **Files Changed**: 2 (+6/-1)
- **Comments**: 5
- **Key Files Modified**:
  - `system-parachains/asset-hubs/asset-hub-polkadot/src/staking/mod.rs`
  - `CHANGELOG.md`

### PR #918: asset-hub-kusama: use inmemorydb weights
- **Author**: @alexggh
- **Merged**: 2025-12-01T07:21:29Z
- **Files Changed**: 4 (+113/-3)
- **Comments**: 8
- **Key Files Modified**:
  - `system-parachains/asset-hubs/asset-hub-kusamsrc/weights/mod.rs`
  - `system-parachains/asset-hubs/asset-hub-kusamsrc/weights/inmemorydb_weights.rs`
  - `CHANGELOG.md`
  - `system-parachains/asset-hubs/asset-hub-kusamsrc/lib.rs`

### PR #941: Add storage weight reclaim to Kusama system chains
- **Author**: @skunert
- **Merged**: 2025-11-25T10:04:33Z
- **Files Changed**: 24 (+477/-70)
- **Linked Issues**: #494
- **Comments**: 24
- **Key Files Modified**:
  - `system-parachains/bridge-hubs/bridge-hub-kusamCargo.toml`
  - `CHANGELOG.md`
  - `system-parachains/bridge-hubs/bridge-hub-kusamsrc/lib.rs`
  - `system-parachains/bridge-hubs/bridge-hub-kusamtests/tests.rs`
  - `system-parachains/asset-hubs/asset-hub-kusamsrc/weights/cumulus_pallet_weight_reclaim.rs`
  - ... and 19 more files

### PR #1012: add review bot workflow
- **Author**: @xlc
- **Merged**: 2025-11-24T11:12:59Z
- **Files Changed**: 1 (+43/-0)
- **Comments**: 11
- **Key Files Modified**:
  - `.github/workflows/ai-review.yml`

### PR #1013: Release 2.0.3
- **Author**: @claravanstaden
- **Merged**: 2025-11-21T11:22:43Z
- **Files Changed**: 14 (+21/-67)
- **Comments**: 9
- **Key Files Modified**:
  - `system-parachains/collectives/collectives-polkadot/src/lib.rs`
  - `system-parachains/asset-hubs/asset-hub-polkadot/src/lib.rs`
  - `CHANGELOG.md`
  - `system-parachains/bridge-hubs/bridge-hub-polkadot/src/lib.rs`
  - `system-parachains/coretime/coretime-kusamsrc/lib.rs`
  - ... and 9 more files

